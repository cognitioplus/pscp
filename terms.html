<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DDRiVE-M Platform: Interactive Terms of Service</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Chart Container Styling - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height */
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Transitions */
        .fade-in {
            animation: fadeIn 0.4s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>

    <!-- Chosen Palette: Corporate Trust (Blues, Grays, White) - Professional, calm, authoritative. -->
    
    <!-- Application Structure Plan:
         1. **Header:** Identity and Effective Date context.
         2. **Navigation:** Functional tabs to switch between 'Dashboard', 'Data Ownership', 'Conduct Rules', and 'Liability'.
         3. **Dashboard (Home):** High-level metrics of the contract (Sections, Key Definitions count) and a visual 'Agreement Status'.
         4. **Data Ownership Section:** Interactive Chart.js Doughnut chart visualizing the split between 'User Data' and 'System Content'. Clicking segments reveals details.
         5. **Conduct Rules Section:** Interactive cards separating 'Responsibilities' (Do's) and 'Prohibited Use' (Don'ts). Filterable.
         6. **Liability Section:** A 'Risk & Security' visualizer using progress bars to show the balance of responsibility (Platform vs. User).
         7. **Footer:** Contact info and formal links.
         
         WHY: Terms of Service are usually boring text. This structure treats the contract as a "System Spec" making it easier to understand rights and obligations.
    -->

    <!-- Visualization & Content Choices:
         1. **Ownership Split (Doughnut Chart):** Goal: Inform/Compare. Visualizes Section 3. Shows clearly that Users own their data, Platform owns the code. Interaction: Click slice to update text.
         2. **Responsibility Balance (Horizontal Bar - simulated via CSS/JS):** Goal: Compare. Visualizes Section 4 & 5. Shows "Platform Security" vs "User Internal Policy".
         3. **Interactive Cards:** Goal: Inform/Organize. Breaks down Section 2 (Rules) into digestible chunks.
         
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
</head>
<body class="text-slate-800">

    <!-- App Container -->
    <div id="app" class="max-w-6xl mx-auto min-h-screen flex flex-col bg-white shadow-xl my-0 md:my-8 md:rounded-xl overflow-hidden">
        
        <!-- Header -->
        <header class="bg-slate-900 text-white p-6 md:p-8 flex flex-col md:flex-row justify-between items-start md:items-center">
            <div>
                <h1 class="text-2xl md:text-3xl font-bold tracking-tight">DDRiVE-M Platform</h1>
                <p class="text-slate-400 text-sm mt-1">Interactive Terms of Service Explorer</p>
            </div>
            <div class="mt-4 md:mt-0 text-right">
                <div class="inline-block px-3 py-1 bg-green-900 text-green-300 text-xs font-semibold rounded-full border border-green-700">
                    Status: EFFECTIVE
                </div>
                <p class="text-xs text-slate-500 mt-1">Date: December 11, 2025</p>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="bg-slate-100 border-b border-slate-200 px-4 md:px-8 py-2 overflow-x-auto">
            <div class="flex space-x-2 md:space-x-8 min-w-max" id="nav-container">
                <!-- Nav items injected by JS -->
            </div>
        </nav>

    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store (derived from Source Report) ---
        const tosData = {
            meta: {
                effectiveDate: "December 11, 2025",
                platformName: "DDRiVE-M Platform",
                contact: "hello@cognitioplus.com"
            },
            definitions: [
                { term: "Platform", desc: "The software application, dashboard, tools (Risk Matrix, calculators), and documentation." },
                { term: "User/You", desc: "Individual/Entity accessing the platform (Govt Agency Rep)." },
                { term: "User Data", desc: "Reports, risk scores, BIA results, and continuity plans entered by You." },
                { term: "System Content", desc: "Code, algorithms, visual design, templates, and non-user-generated data." }
            ],
            ownership: {
                user: ["Specific PSCP Content", "Identified Risks", "RTO/RPO Targets", "Generated Reports"],
                platform: ["Underlying Source Code", "DDRiVE-M Methodology", "Visual Design", "Algorithms"]
            },
            rules: {
                responsibilities: [
                    "Use solely for PSCP development",
                    "Maintain credential security",
                    "Ensure data accuracy & legality",
                    "Comply with applicable laws"
                ],
                prohibited: [
                    "Introduce malicious code/viruses",
                    "Attempt unauthorized access",
                    "Reverse-engineer or decompile"
                ]
            },
            liability: {
                warranty: "Provided 'AS IS' and 'AS AVAILABLE'. No guarantee of error-free operation.",
                advice: "Tools are for planning only. Not a substitute for official legal/policy advice.",
                limitation: "No liability for indirect, incidental, or consequential damages (loss of profit/data)."
            }
        };

        // --- State Management ---
        let state = {
            currentTab: 'dashboard'
        };

        // --- Navigation Configuration ---
        const tabs = [
            { id: 'dashboard', label: 'Overview', icon: 'üìä' },
            { id: 'ownership', label: 'Data Rights', icon: 'üîê' },
            { id: 'conduct', label: 'Rules of Use', icon: '‚öñÔ∏è' },
            { id: 'liability', label: 'Risk & Liability', icon: 'üõ°Ô∏è' }
        ];

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderNav();
            renderView('dashboard');
        });

        // --- Core Functions ---

        function renderNav() {
            const navContainer = document.getElementById('nav-container');
            navContainer.innerHTML = tabs.map(tab => `
                <button 
                    onclick="switchTab('${tab.id}')"
                    class="flex items-center space-x-2 px-4 py-3 text-sm font-medium rounded-t-lg transition-colors border-b-2 
                    ${state.currentTab === tab.id 
                        ? 'text-blue-700 border-blue-600 bg-white' 
                        : 'text-slate-500 border-transparent hover:text-slate-700 hover:bg-slate-200'}"
                >
                    <span>${tab.icon}</span>
                    <span>${tab.label}</span>
                </button>
            `).join('');
        }

        function switchTab(tabId) {
            state.currentTab = tabId;
            renderNav();
            renderView(tabId);
        }

        function renderView(viewId) {
            const main = document.getElementById('main-content');
            main.innerHTML = ''; // Clear
            main.classList.remove('fade-in');
            void main.offsetWidth; // Trigger reflow
            main.classList.add('fade-in');

            switch(viewId) {
                case 'dashboard': renderDashboard(main); break;
                case 'ownership': renderOwnership(main); break;
                case 'conduct': renderConduct(main); break;
                case 'liability': renderLiability(main); break;
            }
        }

        // --- View Renderers ---

        function renderDashboard(container) {
            container.innerHTML = `
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-slate-900 mb-2">Welcome to the DDRiVE-M Terms Explorer</h2>
                    <p class="text-slate-600">
                        This interactive guide breaks down the Terms of Service for the DDRiVE-M Platform. 
                        By accessing the platform, you agree to these terms.
                    </p>
                </div>

                <!-- Stats Grid -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                        <div class="text-blue-600 text-3xl font-bold mb-1">4</div>
                        <div class="text-sm font-semibold text-slate-800">Key Definitions</div>
                        <div class="text-xs text-slate-500 mt-2">Roles & Assets defined in Section 1</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                        <div class="text-indigo-600 text-3xl font-bold mb-1">Non-Exclusive</div>
                        <div class="text-sm font-semibold text-slate-800">License Type</div>
                        <div class="text-xs text-slate-500 mt-2">For PSCP development only</div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                        <div class="text-emerald-600 text-3xl font-bold mb-1">User</div>
                        <div class="text-sm font-semibold text-slate-800">Data Ownership</div>
                        <div class="text-xs text-slate-500 mt-2">You retain full rights to your input</div>
                    </div>
                </div>

                <!-- Definitions Section -->
                <div class="bg-white rounded-lg shadow-sm border border-slate-200 p-6">
                    <h3 class="text-lg font-bold text-slate-900 mb-4 border-b pb-2">1. Core Definitions</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${tosData.definitions.map(def => `
                            <div class="p-4 bg-slate-50 rounded border border-slate-100">
                                <span class="font-bold text-slate-800 block mb-1">${def.term}</span>
                                <span class="text-sm text-slate-600">${def.desc}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderOwnership(container) {
            container.innerHTML = `
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-slate-900 mb-2">3. User Data & Ownership</h2>
                    <p class="text-slate-600">
                        Understanding the distinction between what you own ("User Data") and what the Platform owns ("System Content") is critical.
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                    <!-- Chart Section -->
                    <div class="bg-white p-4 rounded-lg shadow-sm border border-slate-200 flex flex-col items-center">
                        <h3 class="text-sm font-bold text-slate-500 uppercase tracking-wide mb-4">Intellectual Property Split</h3>
                        <div class="chart-container">
                            <canvas id="ownershipChart"></canvas>
                        </div>
                        <p class="text-xs text-slate-400 mt-4 text-center">Click segments to highlight details.</p>
                    </div>

                    <!-- Details Section -->
                    <div class="space-y-6" id="ownership-details">
                        <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 transition-all duration-300 hover:shadow-md cursor-pointer" onclick="highlightSegment(0)">
                            <h4 class="font-bold text-emerald-800 text-lg mb-2">User Ownership (You)</h4>
                            <p class="text-sm text-emerald-700 mb-2">You retain full ownership rights to:</p>
                            <ul class="list-disc list-inside text-sm text-emerald-600 space-y-1">
                                ${tosData.ownership.user.map(item => `<li>${item}</li>`).join('')}
                            </ul>
                        </div>

                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 transition-all duration-300 hover:shadow-md cursor-pointer" onclick="highlightSegment(1)">
                            <h4 class="font-bold text-blue-800 text-lg mb-2">Platform Ownership (Cognitio Plus)</h4>
                            <p class="text-sm text-blue-700 mb-2">The Platform retains rights to:</p>
                            <ul class="list-disc list-inside text-sm text-blue-600 space-y-1">
                                ${tosData.ownership.platform.map(item => `<li>${item}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `;

            setTimeout(initOwnershipChart, 100);
        }

        function initOwnershipChart() {
            const ctx = document.getElementById('ownershipChart').getContext('2d');
            window.myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['User Data', 'System Content'],
                    datasets: [{
                        data: [50, 50], // Visual equality
                        backgroundColor: ['#10b981', '#3b82f6'], // Emerald vs Blue
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label === 'User Data' 
                                        ? 'Owned by YOU (Reports, Plans, Risks)' 
                                        : 'Owned by PLATFORM (Code, Design, Framework)';
                                }
                            }
                        }
                    },
                    onClick: (e, activeEls) => {
                        if (activeEls.length > 0) {
                            const index = activeEls[0].index;
                            // Could add logic here to scroll to text, but visual feedback is enough for now
                        }
                    }
                }
            });
        }

        function highlightSegment(index) {
            // Simple visual feedback if Chart instance exists
            if(window.myChart) {
                window.myChart.setActiveElements([{datasetIndex: 0, index: index}]);
                window.myChart.update();
            }
        }

        function renderConduct(container) {
            container.innerHTML = `
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-slate-900 mb-2">2. Scope & Use</h2>
                    <p class="text-slate-600">
                        Your license to use the platform is conditional upon following these rules.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Responsibilities -->
                    <div>
                        <div class="flex items-center space-x-2 mb-4">
                            <span class="text-2xl">‚úÖ</span>
                            <h3 class="text-xl font-bold text-slate-800">User Responsibilities</h3>
                        </div>
                        <div class="space-y-3">
                            ${tosData.rules.responsibilities.map(rule => `
                                <div class="bg-white p-4 rounded border-l-4 border-green-500 shadow-sm card-hover">
                                    <p class="text-slate-700 font-medium">${rule}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Prohibited -->
                    <div>
                        <div class="flex items-center space-x-2 mb-4">
                            <span class="text-2xl">üö´</span>
                            <h3 class="text-xl font-bold text-slate-800">Prohibited Actions</h3>
                        </div>
                        <div class="space-y-3">
                            ${tosData.rules.prohibited.map(rule => `
                                <div class="bg-white p-4 rounded border-l-4 border-red-500 shadow-sm card-hover">
                                    <p class="text-slate-700 font-medium">${rule}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>

                <div class="mt-8 bg-slate-100 p-4 rounded-lg border border-slate-300 text-center">
                    <p class="text-sm text-slate-600">
                        <strong>Note:</strong> We may suspend or terminate access immediately if these terms are breached (Section 6).
                    </p>
                </div>
            `;
        }

        function renderLiability(container) {
            container.innerHTML = `
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-slate-900 mb-2">4 & 5. Security & Liability</h2>
                    <p class="text-slate-600">
                        Important disclaimers regarding the use of the platform and data security responsibilities.
                    </p>
                </div>

                <div class="space-y-6 max-w-4xl mx-auto">
                    
                    <!-- Security Balance Visual -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-900 mb-6">Security Responsibility Matrix</h3>
                        
                        <div class="mb-6">
                            <div class="flex justify-between text-sm font-semibold mb-2">
                                <span class="text-blue-700">Platform Responsibility</span>
                                <span class="text-slate-500">Technical Environment</span>
                            </div>
                            <div class="w-full bg-slate-200 rounded-full h-4">
                                <div class="bg-blue-600 h-4 rounded-full" style="width: 100%"></div>
                            </div>
                            <p class="text-xs text-slate-500 mt-1">Maintaining technical security, ISO compliance, best practices.</p>
                        </div>

                        <div>
                            <div class="flex justify-between text-sm font-semibold mb-2">
                                <span class="text-emerald-700">User Responsibility</span>
                                <span class="text-slate-500">Data & Access</span>
                            </div>
                            <div class="w-full bg-slate-200 rounded-full h-4">
                                <div class="bg-emerald-600 h-4 rounded-full" style="width: 100%"></div>
                            </div>
                            <p class="text-xs text-slate-500 mt-1">Verifying internal policies, data accuracy, credential security.</p>
                        </div>
                    </div>

                    <!-- Disclaimers Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-amber-50 p-4 rounded border border-amber-200">
                            <div class="text-amber-600 text-xl mb-2 font-bold">‚ö†Ô∏è No Warranty</div>
                            <p class="text-sm text-amber-800">${tosData.liability.warranty}</p>
                        </div>
                        <div class="bg-amber-50 p-4 rounded border border-amber-200">
                            <div class="text-amber-600 text-xl mb-2 font-bold">‚öñÔ∏è Not Legal Advice</div>
                            <p class="text-sm text-amber-800">${tosData.liability.advice}</p>
                        </div>
                        <div class="bg-amber-50 p-4 rounded border border-amber-200">
                            <div class="text-amber-600 text-xl mb-2 font-bold">üõ°Ô∏è Liability Limit</div>
                            <p class="text-sm text-amber-800">${tosData.liability.limitation}</p>
                        </div>
                    </div>

                </div>
            `;
        }

    </script>
</body>
</html>
